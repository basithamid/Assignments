package jdbc;

import java.sql.*;
import org.apache.commons.dbcp2.BasicDataSource;

public class AddImage {
	private static BasicDataSource dataSource;
	private static BasicDataSource getDataSource(){
		if(dataSource == null){
			BasicDataSource ds = new BasicDataSource();
			ds.setUrl("jdbc:oracle:thin:@localhost:1521:xe");
			ds.setUsername("system");
			ds.setPassword("root123");
			
			ds.setMinIdle(5);
			ds.setMaxIdle(10);
			ds.setMaxOpenPreparedStatements(100);
			
			dataSource = ds;
		}
		return dataSource;
	}
	public static void main(String[] args) throws Exception {
		try(BasicDataSource dataSource = AddImage.getDataSource(); Connection conn = dataSource.getConnection();
				PreparedStatement pstmt = conn.prepareStatement("INSERT INTO STUDENTINFO(?,?)");){
			try(ResultSet rs = pstmt.executeQuery();){
				while(rs.next()){
					System.out.println(rs.getString("DNAME"));
				}
			}
			catch(Exception e){
				e.printStackTrace();
			}
		}

	}

}
